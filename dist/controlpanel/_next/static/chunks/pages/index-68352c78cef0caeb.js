(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{48312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(87540)}])},87540:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Home}});var a,r,l=t(85893),s=t(9008),o=t.n(s),i=t(25675),d=t.n(i),c={src:"/_next/static/media/logo-nodes.249ea9ed.svg",height:283,width:425,blurWidth:0,blurHeight:0},u=t(30378),h=t.n(u),x=t(89192),Navigation=()=>(0,l.jsxs)("div",{className:h().navbarParent,children:[(0,l.jsx)("div",{className:h().logoWrapper,children:(0,l.jsx)(d(),{src:c,alt:"Ocean Node Logo",height:70})}),(0,l.jsx)("div",{className:h().connectButtonWrapper,children:(0,l.jsx)(x.NL,{})})]}),j=t(94428),m=t.n(j),components_Footer=()=>{let e=new Date().getFullYear();return(0,l.jsxs)("div",{className:m().footerContainer,children:[(0,l.jsxs)("p",{children:["@ ",e,", Ocean Nodes"]}),(0,l.jsxs)("div",{className:m().footerLinks,children:[(0,l.jsx)("a",{href:"https://oceanprotocol.com/",target:"_blank",children:"Website"}),(0,l.jsx)("a",{href:"https://github.com/oceanprotocol/ocean-node",target:"_blank",children:"GitHub"}),(0,l.jsx)("a",{href:"https://discord.com/invite/TnXjkR5",target:"_blank",children:"Discord"})]})]})},p=t(67294),v=t(73301),f=t.n(v),_=t(59581),b=t(46085),g=t.n(b),N=t(69417),y=t(94054),C=t(50135),S=t(33841),Z=t(30638),I=t(23599),w=t(10586),P=t(50720),T=t(67971),k=t(27484),E=t.n(k),A={src:"/_next/static/media/download.0a4876ec.svg",height:30,width:30,blurWidth:0,blurHeight:0};function DownloadButton(){let[e,n]=(0,p.useState)(!1),[t,a]=(0,p.useState)(!1),[r,s]=(0,p.useState)(E()()),[o,i]=(0,p.useState)(E()()),[c,u]=(0,p.useState)(""),[h,x]=(0,p.useState)(""),[j,m]=(0,p.useState)(""),{signature:v,expiryTimestamp:f}=(0,_.O)(),b=(0,p.useCallback)(async()=>{let e=r?"&startTime=".concat(r.toISOString()):"",n=o?"&endTime=".concat(o.toISOString()):"",t=c?"&maxLogs=".concat(c):"",l=h&&"all"!==h?"&moduleName=".concat(h):"",s=j&&"all"!==j?'&level="'.concat(j,'"'):"";a(!0);try{if(!f||!v){console.error("Missing expiryTimestamp or signature");return}let r=await fetch("/logs?".concat(e).concat(n).concat(t).concat(l).concat(s),{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({expiryTimestamp:f,signature:v})}),o=await r.json();if(o){let e="data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(o)),n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download","LogsData.json"),document.body.appendChild(n),n.click(),n.remove()}a(!1)}catch(e){console.error(e),a(!1)}},[r,o,c,h,j]);return(0,l.jsxs)("div",{className:g().column,children:[(0,l.jsx)(N.Z,{type:"button",onClick:()=>n(!e),children:"Download Logs"}),e&&(0,l.jsxs)("div",{className:g().filters,children:[(0,l.jsxs)(P._,{dateAdapter:w.y,children:[(0,l.jsx)(y.Z,{fullWidth:!0,margin:"normal",children:(0,l.jsx)(T.x,{label:"Start Date",value:r,onChange:e=>s(e)})}),(0,l.jsx)(y.Z,{fullWidth:!0,margin:"normal",children:(0,l.jsx)(T.x,{label:"End Date",value:o,onChange:e=>i(e)})})]}),(0,l.jsx)(C.Z,{label:"Max Logs",type:"number",value:c,onChange:e=>u(e.target.value),fullWidth:!0,margin:"normal",variant:"outlined"}),(0,l.jsxs)(y.Z,{fullWidth:!0,margin:"normal",children:[(0,l.jsx)(S.Z,{id:"select-module-name-label",children:"Module Name"}),(0,l.jsxs)(Z.Z,{labelId:"select-module-name-label",label:"Module Name",id:"module-name",value:h,onChange:e=>x(e.target.value),children:[(0,l.jsx)(I.Z,{value:"all",children:"all"}),(0,l.jsx)(I.Z,{value:"http",children:"http"}),(0,l.jsx)(I.Z,{value:"p2p",children:"p2p"}),(0,l.jsx)(I.Z,{value:"indexer",children:"indexer"}),(0,l.jsx)(I.Z,{value:"reindexer",children:"reindexer"}),(0,l.jsx)(I.Z,{value:"provider",children:"provider"}),(0,l.jsx)(I.Z,{value:"database",children:"database"}),(0,l.jsx)(I.Z,{value:"config",children:"config"}),(0,l.jsx)(I.Z,{value:"core",children:"core"}),(0,l.jsx)(I.Z,{value:"OceanNode",children:"OceanNode"})]})]}),(0,l.jsxs)(y.Z,{fullWidth:!0,margin:"normal",children:[(0,l.jsx)(S.Z,{id:"select-level-label",children:"Level"}),(0,l.jsxs)(Z.Z,{labelId:"select-level-label",label:"Level",id:"level",value:j,onChange:e=>m(e.target.value),children:[(0,l.jsx)(I.Z,{value:"all",children:"all"}),(0,l.jsx)(I.Z,{value:"error",children:"error"}),(0,l.jsx)(I.Z,{value:"warn",children:"warn"}),(0,l.jsx)(I.Z,{value:"info",children:"info"}),(0,l.jsx)(I.Z,{value:"http",children:"http"}),(0,l.jsx)(I.Z,{value:"verbose",children:"verbose"}),(0,l.jsx)(I.Z,{value:"debug",children:"debug"}),(0,l.jsx)(I.Z,{value:"silly",children:"silly"})]})]}),(0,l.jsx)(N.Z,{type:"button",onClick:b,variant:"outlined",startIcon:(0,l.jsx)(d(),{src:A,alt:"download button",width:24,height:24}),disabled:t,children:"Download"})]})]})}function StopNode(){let[e,n]=(0,p.useState)(!1),{signature:t,expiryTimestamp:a}=(0,_.O)();async function stopNode(){n(!0);try{a&&t&&await fetch("/directCommand",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({command:"stopNode",expiryTimestamp:a,signature:t})}),alert("The node has been stopped. The control panel will no longer be displayed."),window.location.reload()}catch(e){console.error("error",e)}finally{n(!1)}}return(0,l.jsx)(N.Z,{onClick:stopNode,variant:"outlined",color:"error",children:e?(0,l.jsx)(()=>(0,l.jsx)("span",{className:g().loader}),{}):(0,l.jsx)("div",{children:"Stop Node"})})}var O=t(92321),D=t(31536);function NetworkSelector(e){let{chainId:n,setChainId:t}=e,{networks:a}=(0,_.O)();return(0,l.jsxs)(y.Z,{fullWidth:!0,margin:"normal",variant:"outlined",children:[(0,l.jsx)(S.Z,{id:"network-select-label",children:"Network"}),(0,l.jsx)(Z.Z,{labelId:"network-select-label",id:"network-select",value:n||"",onChange:e=>t(e.target.value),label:"Network",children:Object.values(a).map(e=>(0,l.jsx)(I.Z,{value:e.chainId.toString(),children:e.network},e.chainId))})]})}(a=r||(r={})).DELIVERED="DELIVERED",a.PENDING="PENDING",a.FAILURE="FAILURE",a.SUCCESS="SUCCESS";let checkJobPool=async function(e){try{let n=await fetch("/api/services/jobs/"+(e||""),{headers:{Accept:"application/json","Content-Type":"application/json"},method:"GET"}),t=await n.json();return t.jobs}catch(e){console.error(e)}return[]};function getSeverityFromStatus(e){switch(e){case r.DELIVERED:return"info";case r.SUCCESS:return"success";case r.PENDING:return"warning";default:return"error"}}function isJobDone(e){return[r.SUCCESS,r.FAILURE].includes(e)}var R=t(8434);function JobStatusPanel(e){let n=e.job?function(e){switch(e){case r.DELIVERED:return"DodgerBlue";case r.PENDING:return"LightSlateGrey";case r.SUCCESS:return"ForestGreen";case r.FAILURE:return"OrangeRed";default:return"black"}}(e.job.status):"black";return(0,l.jsx)("div",{children:null!==e.job&&(0,l.jsxs)(R.Z,{sx:{bgcolor:n},variant:"filled",severity:e.severity,onClose:()=>{},children:["Job with id ",(0,l.jsx)("strong",{children:e.job.jobId})," has status"," ",(0,l.jsx)("strong",{children:e.job.status})]})})}var W=t(602);function ReIndexChain(){let[e,n]=(0,p.useState)(!1),[t,a]=(0,p.useState)(!1),[s,o]=(0,p.useState)(),{signature:i,expiryTimestamp:d}=(0,_.O)(),[c,u]=(0,p.useState)("info"),[h,x]=(0,p.useState)(null),j=null;async function reIndex(){a(!0);try{if(d&&i&&s){let e=await fetch("/directCommand",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({command:"reindexChain",chainId:s,expiryTimestamp:d,signature:i})});if(200===e.status){let t=await e.json();u(t.status===r.DELIVERED?"info":"error"),x(t),alert("Chain with ID ".concat(s," is now being reindexed."));let a=!1;j=setInterval(async()=>{let e=await checkJobPool(t.jobId);if(1===e.length){let n=e[0];u(getSeverityFromStatus(n.status)),a=isJobDone(n.status),x(n)}else x(null)},3e3),a&&j&&(0,W.clearInterval)(j),n(!1)}else alert("Error reindexing chain. Please try again.")}}catch(e){console.error("error",e)}finally{a(!1)}}return(0,l.jsxs)("div",{className:g().column,children:[(0,l.jsx)(N.Z,{type:"button",onClick:()=>n(!e),children:"ReIndex Chain"}),e&&(0,l.jsxs)("div",{className:g().filters,children:[(0,l.jsx)(NetworkSelector,{chainId:s,setChainId:o}),(0,l.jsx)(N.Z,{type:"button",onClick:reIndex,variant:"outlined",disabled:t,children:"ReIndex Chain"})]}),(0,l.jsx)(JobStatusPanel,{job:h,severity:c})]})}function ReIndexTransaction(){let[e,n]=(0,p.useState)(!1),[t,a]=(0,p.useState)(!1),[s,o]=(0,p.useState)(),[i,d]=(0,p.useState)(),{signature:c,expiryTimestamp:u}=(0,_.O)(),[h,x]=(0,p.useState)("info"),[j,m]=(0,p.useState)(null),v=null;async function reIndexTx(){a(!0);try{if(u&&c&&s&&i){let e=await fetch("/directCommand",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({command:"reindexTx",chainId:s,txId:i,expiryTimestamp:u,signature:c})});if(200===e.status){let t=await e.json();x(t.status===r.DELIVERED?"info":"error"),m(t),alert("Transaction with TX ID ".concat(i," on chain ").concat(s," is now being reindexed."));let a=!1;v=setInterval(async()=>{let e=await checkJobPool(t.jobId);if(1===e.length){let n=e[0];x(getSeverityFromStatus(n.status)),a=isJobDone(n.status),m(n)}else m(null)},3e3),a&&v&&clearInterval(v),n(!1)}else alert("Error reindexing transaction. Please try again.")}}catch(e){console.error("error",e)}finally{a(!1)}}return(0,l.jsxs)("div",{className:g().column,children:[(0,l.jsx)(N.Z,{type:"button",onClick:()=>n(!e),children:"ReIndex Transaction"}),e&&(0,l.jsxs)("div",{className:g().filters,children:[(0,l.jsx)(NetworkSelector,{chainId:s,setChainId:o}),(0,l.jsx)(C.Z,{label:"Transaction ID",value:i,onChange:e=>d(e.target.value),fullWidth:!0,margin:"normal",variant:"outlined"}),(0,l.jsx)(N.Z,{type:"button",onClick:reIndexTx,variant:"outlined",disabled:t,children:"ReIndex Transaction"})]}),(0,l.jsx)(JobStatusPanel,{job:j,severity:h})]})}var L=t(58703),F=t(64666),B=t(37645),J=t(6514),H=t(58951),U=t(31425);function TransferFees(){let[e,n]=(0,p.useState)(!1),[t,a]=(0,p.useState)(!1),[r,s]=(0,p.useState)(""),[o,i]=(0,p.useState)(""),[d,c]=(0,p.useState)(""),[u,h]=(0,p.useState)(""),{signature:x,expiryTimestamp:j}=(0,_.O)(),[m,v]=(0,p.useState)(null),[f,b]=(0,p.useState)(!1),[y,S]=(0,p.useState)(!1),[Z,I]=(0,p.useState)(null),[w,P]=(0,p.useState)(null),validateInputs=()=>r&&o&&d&&u?isNaN(Number(d))?(v("Token amount must be a number."),!1):(v(null),!0):(v("All fields are required."),!1);async function transferFees(){if(validateInputs()){a(!0);try{let e=await fetch("/directCommand",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({command:"collectFees",chainId:r,tokenAddress:o,tokenAmount:d,destinationAddress:u,expiryTimestamp:j,signature:x})});if(200===e.status){let t=await e.json();(null==t?void 0:t.tx)&&(null==t?void 0:t.message)&&(P(t.tx),I(t.message),S(!0),b(!0),n(!1))}else v(e.statusText?e.statusText:"Error transferring fees. Please try again.")}catch(e){console.error("error",e),v("Error transferring fees. Please try again.")}finally{a(!1)}}}let handleDialogClose=()=>{S(!1)};return(0,l.jsxs)("div",{className:g().column,children:[(0,l.jsx)(N.Z,{variant:"text",onClick:()=>n(!e),children:"Transfer Fees"}),e&&(0,l.jsxs)("div",{className:g().filters,children:[(0,l.jsx)(C.Z,{label:"Chain ID",value:r,onChange:e=>s(e.target.value),fullWidth:!0,margin:"normal",variant:"outlined",type:"number"}),(0,l.jsx)(C.Z,{label:"Token Address",value:o,onChange:e=>i(e.target.value),fullWidth:!0,margin:"normal",variant:"outlined"}),(0,l.jsx)(C.Z,{label:"Token Amount",value:d,onChange:e=>c(e.target.value),fullWidth:!0,margin:"normal",variant:"outlined",type:"number"}),(0,l.jsx)(C.Z,{label:"Destination Address",value:u,onChange:e=>h(e.target.value),fullWidth:!0,margin:"normal",variant:"outlined"}),m&&(0,l.jsx)(R.Z,{severity:"error",children:m}),(0,l.jsx)(N.Z,{type:"button",onClick:transferFees,variant:"outlined",disabled:t,fullWidth:!0,children:"Transfer Fees"})]}),(0,l.jsx)(L.Z,{open:f,autoHideDuration:6e3,onClose:()=>b(!1),message:"Fees successfully transferred!"}),(0,l.jsxs)(F.Z,{open:y,onClose:handleDialogClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,l.jsx)(B.Z,{id:"alert-dialog-title",children:"Transfer Successful"}),(0,l.jsx)(J.Z,{children:(0,l.jsx)(H.Z,{id:"alert-dialog-description",children:Z&&(0,l.jsxs)("span",{children:[Z," ",(0,l.jsx)("br",{}),(0,l.jsx)("strong",{style:{marginTop:"10px",display:"block"},children:"Transaction Hash:"})," ",w]})})}),(0,l.jsx)(U.Z,{children:(0,l.jsx)(N.Z,{onClick:handleDialogClose,autoFocus:!0,children:"Close"})})]})]})}function AdminActions(){let{generateSignature:e,signature:n,validTimestamp:t,admin:a}=(0,_.O)(),{isConnected:r}=(0,O.m)();return(0,l.jsxs)("div",{className:g().root,children:[(0,l.jsx)("div",{className:g().title,children:"ADMIN ACTIONS"}),!r&&(0,l.jsx)(x.NL,{}),r&&!a&&(0,l.jsx)("div",{className:g().unauthorised,children:"Your account does not have admin access"}),(!n||!t)&&r&&a&&(0,l.jsx)("button",{type:"button",className:g().unlockButton,onClick:e,children:"Unlock"}),r&&n&&t&&r&&a&&(0,l.jsxs)(D.Z,{spacing:2,direction:"column",children:[(0,l.jsx)(DownloadButton,{}),(0,l.jsx)(ReIndexChain,{}),(0,l.jsx)(ReIndexTransaction,{}),(0,l.jsx)(TransferFees,{}),(0,l.jsx)(StopNode,{})]})]})}var Q=t(17044),G=t.n(Q);function Spinner(){return(0,l.jsx)("span",{className:G().loader})}var M=t(85108),q=t.n(M),V=t(75368),X=t.n(V),K={src:"/_next/static/media/copy.63713a04.svg",height:16,width:15,blurWidth:0,blurHeight:0};function Copy(e){let{text:n}=e,[t,a]=(0,p.useState)(!1),copyToClipboard=e=>{let n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n)};return(0,p.useEffect)(()=>{if(!t)return;let e=setTimeout(()=>{a(!1)},1e3);return()=>clearTimeout(e)},[t]),(0,l.jsxs)("div",{className:X().action,onClick:()=>{copyToClipboard(n),a(!0)},children:[(0,l.jsx)(d(),{src:K,alt:"icont-copy",className:X().icon}),t&&(0,l.jsx)("div",{className:X().feedback,children:"Copied!"})]})}var z=t(15861);function NodePeers(){let[e,n]=(0,p.useState)([]),[t,a]=(0,p.useState)(!0),[r,s]=(0,p.useState)(!1),fetchNodePeers=async()=>{a(!0);try{let e=await fetch("/getOceanPeers",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"GET"}),t=await e.json();n(t)}catch(e){console.error("error",e)}finally{a(!1)}};(0,p.useEffect)(()=>{fetchNodePeers();let e=setInterval(()=>{fetchNodePeers()},12e4);return()=>clearInterval(e)},[]);let o=r?e:e.slice(0,10);return(0,l.jsxs)("div",{className:q().nodes,children:[(0,l.jsxs)("div",{className:q().title24,children:["Connected Nodes (Total ",e.length,")"]}),t?(0,l.jsx)("div",{className:q().loaderContainer,children:(0,l.jsx)(Spinner,{})}):(0,l.jsxs)(l.Fragment,{children:[e.length>0?o.map(e=>(0,l.jsxs)("div",{className:q().nodeAddress,children:[e," ",(0,l.jsx)(Copy,{text:e})]},e)):(0,l.jsx)(z.Z,{variant:"body1",children:"There are no nodes connected"}),!r&&e.length>10&&(0,l.jsx)(N.Z,{onClick:()=>s(!0),variant:"text",color:"primary",children:"Show All"}),r&&e.length>10&&(0,l.jsx)(N.Z,{onClick:()=>s(!1),variant:"text",color:"primary",children:"Show Less"})]})]})}function SupportedStorage(e){let{data:n}=e;return(0,l.jsxs)("div",{className:f().indexer,children:[(0,l.jsx)("div",{className:f().title29,children:"SUPPORTED STORAGE"}),(0,l.jsxs)("div",{className:f().provider,children:[(0,l.jsxs)("div",{className:f().providerRow,children:[(0,l.jsx)("div",{className:f().providerTitle,children:(0,l.jsx)("b",{children:"arwave:"})}),(0,l.jsxs)("div",{children:[null==n?void 0:n.supportedStorage.arwave.toString()," "]})]}),(0,l.jsxs)("div",{className:f().providerRow,children:[(0,l.jsx)("div",{className:f().providerTitle,children:(0,l.jsx)("b",{children:"ipfs:"})}),(0,l.jsxs)("div",{children:[null==n?void 0:n.supportedStorage.ipfs.toString()," "]})]}),(0,l.jsxs)("div",{className:f().providerRow,children:[(0,l.jsx)("div",{className:f().providerTitle,children:(0,l.jsx)("b",{children:"url:"})}),(0,l.jsxs)("div",{children:[null==n?void 0:n.supportedStorage.url.toString()," "]})]})]})]})}function SupportedNetworks_SupportedStorage(e){let{data:n}=e;return(0,l.jsxs)("div",{className:f().indexer,children:[(0,l.jsx)("div",{className:f().title29,children:"SUPPORTED Networks"}),(0,l.jsx)("div",{className:f().provider,children:null==n?void 0:n.provider.map(e=>(0,l.jsxs)("div",{className:f().providerRow,children:[(0,l.jsx)("div",{className:f().providerTitle,children:(0,l.jsx)("b",{children:e.chainId})}),(0,l.jsxs)("div",{children:[e.network," "]})]}))})]})}var Y=t(93967),$=t.n(Y),ee=t(72882),en=t(7906),et=t(53184),ea=t(53816),er=t(53252),el=t(295),es=t(27061);function IndexQueue(){let[e,n]=(0,p.useState)([]),{networks:t}=(0,_.O)(),[a,r]=(0,p.useState)(!1),s=null;return(0,p.useEffect)(()=>{let fetchQueue=()=>{fetch("/api/services/indexQueue").then(e=>{400===e.status?(console.warn("Cannot fetch queue: Node is not running Indexer"),r(!0),s&&clearInterval(s)):e.json().then(e=>{let a=e.queue.map(e=>{let n=t.find(n=>n.chainId===e.chainId);return{txId:e.txId,chainId:e.chainId,chain:n?n.network:"Unknown Network"}});n(a)})}).catch(e=>{console.error("Error fetching queue:",e)})};fetchQueue();let e=1e4;return es.env.INDEXER_INTERVAL&&(e=Number(es.env.INDEXER_INTERVAL)),s=setInterval(fetchQueue,e),()=>{s&&clearInterval(s)}},[]),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:f().title24,style:{paddingTop:"55px",paddingBottom:"55px"},children:"Indexing Queue"}),e.length>0?(0,l.jsx)(ee.Z,{children:(0,l.jsxs)(en.Z,{"aria-label":"simple table",children:[(0,l.jsx)(et.Z,{children:(0,l.jsxs)(ea.Z,{children:[(0,l.jsx)(er.Z,{children:(0,l.jsx)("b",{children:"Transaction ID"})}),(0,l.jsx)(er.Z,{align:"right",children:(0,l.jsx)("b",{children:"Network"})})]})}),(0,l.jsx)(el.Z,{children:e.map((e,n)=>(0,l.jsxs)(ea.Z,{children:[(0,l.jsx)(er.Z,{component:"th",scope:"row",children:e.txId}),(0,l.jsx)(er.Z,{align:"right",children:e.chain})]},n))})]})}):(0,l.jsx)("p",{children:"Indexing queue is empty."}),a&&(0,l.jsx)(R.Z,{className:f().indexerQueueAlert,severity:"warning",onClose:()=>{r(!1)},children:"Node is not running Indexer. No need to get queue at this point!"})]})}var eo=t(86886),ei=t(66242);function Indexer(e){let{data:n}=e;return(0,l.jsxs)("div",{className:$()([f().indexer,f().borderBottom]),children:[(0,l.jsx)("div",{className:f().title29,children:"INDEXER"}),(0,l.jsx)(eo.ZP,{container:!0,spacing:2,children:null==n?void 0:n.indexer.map(e=>(0,l.jsx)(eo.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,l.jsxs)(ei.Z,{className:$()([f().indexBlock,e.delayed&&f().delayed]),sx:{marginBottom:4,borderRadius:"8px",position:"relative"},children:[(0,l.jsx)("h5",{children:e.network}),(0,l.jsxs)("div",{children:["ChainID: ",e.chainId]}),(0,l.jsxs)("div",{children:["BLOCK: ",e.block]})]},e.block)},e.block))}),(0,l.jsx)(IndexQueue,{})]})}function AdminAccounts(){let{allAdmins:e}=(0,_.O)();return(0,l.jsxs)("div",{className:f().indexer,children:[(0,l.jsx)("div",{className:f().title29,children:"Admin Accounts"}),(0,l.jsx)("div",{className:f().provider,children:e.map((e,n)=>(0,l.jsx)("div",{className:f().providerRow,children:e},n))})]})}function NodePlatform(e){let{platformData:n}=e;return(0,l.jsxs)("div",{className:f().indexer,children:[(0,l.jsx)("div",{className:f().title29,children:"PLATFORM"}),(0,l.jsx)("div",{className:f().provider,children:n.map(e=>(0,l.jsxs)("div",{className:f().providerRow,children:[(0,l.jsx)("div",{className:f().providerTitle,children:(0,l.jsxs)("b",{children:[e.key,":"]})}),(0,l.jsxs)("div",{children:[e.value," "]})]},e.value))})]})}var ed=t(5616),ec=t(67720);function ControlPanel(){let[e,n]=(0,p.useState)(),[t,a]=(0,p.useState)(!0),[r,s]=(0,p.useState)(""),{setAllAdmins:o,setNetworks:i}=(0,_.O)();(0,p.useEffect)(()=>{a(!0);try{fetch("/directCommand",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({command:"status"})}).then(e=>e.json()).then(e=>{n(e),o(e.allowedAdmins),i(e.indexer),a(!1)})}catch(e){a(!1),console.error("error",e)}},[]),(0,p.useEffect)(()=>{fetch("https://api.ipify.org?format=json").then(e=>e.json()).then(e=>{s(e.ip)}).catch(e=>{console.error("Failed to fetch IP address:",e)})},[]);let d=[{id:null==e?void 0:e.id,ip:r,indexerData:null==e?void 0:e.indexer}],c=[];return e&&Object.keys(null==e?void 0:e.platform).forEach(n=>{let t={key:n,value:JSON.stringify(null==e?void 0:e.platform[n])};c.push(t)}),(0,l.jsxs)("div",{className:f().root,children:[(0,l.jsx)(AdminActions,{}),(0,l.jsx)("div",{className:f().bodyContainer,children:t?(0,l.jsx)("div",{className:f().loaderContainer,children:(0,l.jsx)(Spinner,{})}):(0,l.jsxs)("div",{className:f().body,children:[(0,l.jsx)(()=>(0,l.jsxs)(ed.Z,{p:2,children:[(0,l.jsx)(z.Z,{variant:"h5",gutterBottom:!0,children:"NETWORK"}),(0,l.jsx)(ec.Z,{}),(0,l.jsxs)(ed.Z,{mt:2,mb:2,children:[(0,l.jsx)(z.Z,{variant:"h6",children:"HTTP Status"}),(0,l.jsxs)(z.Z,{variant:"body1",children:["HTTP - ",(null==e?void 0:e.http)?"UP":"DOWN"]})]}),(0,l.jsx)(ec.Z,{}),(0,l.jsxs)(ed.Z,{mt:2,mb:2,children:[(0,l.jsx)(z.Z,{variant:"h6",children:"P2P Status"}),(0,l.jsxs)(z.Z,{variant:"body1",children:["P2P - ",(null==e?void 0:e.p2p)?"UP":"DOWN"]})]}),(0,l.jsx)(ec.Z,{}),(0,l.jsxs)(ed.Z,{mt:2,mb:2,children:[(0,l.jsx)(z.Z,{variant:"h6",children:"NODE ID"}),d.map(e=>(0,l.jsxs)(ed.Z,{display:"flex",alignItems:"center",mb:1,children:[(0,l.jsx)(z.Z,{variant:"body1",className:f().node,children:e.id}),(0,l.jsx)(Copy,{text:null==e?void 0:e.id})]},e.id))]}),(0,l.jsx)(ec.Z,{}),(0,l.jsxs)(ed.Z,{mt:2,mb:2,children:[(0,l.jsx)(z.Z,{variant:"h6",children:"Address"}),(0,l.jsxs)(ed.Z,{display:"flex",alignItems:"center",children:[(0,l.jsx)(z.Z,{variant:"body1",className:f().node,children:null==e?void 0:e.address}),(0,l.jsx)(Copy,{text:null==e?void 0:e.address})]})]}),(0,l.jsx)(ec.Z,{}),(0,l.jsx)(ed.Z,{mt:2,children:(0,l.jsx)(NodePeers,{})})]}),{}),(0,l.jsx)(Indexer,{data:e}),(0,l.jsx)(SupportedNetworks_SupportedStorage,{data:e}),(0,l.jsx)(SupportedStorage,{data:e}),(0,l.jsx)(AdminAccounts,{}),(0,l.jsx)(NodePlatform,{platformData:c})]})})]})}function Home(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(o(),{children:[(0,l.jsx)("title",{children:"Ocean Node Control Panel"}),(0,l.jsx)("meta",{name:"description",content:"Ocean Node Control Panel"}),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,l.jsx)("header",{children:(0,l.jsx)(Navigation,{})}),(0,l.jsx)("main",{children:(0,l.jsx)(ControlPanel,{})}),(0,l.jsx)("footer",{children:(0,l.jsx)(components_Footer,{})})]})}},46085:function(e){e.exports={download:"Admin_download__ZZ4G0",unlockButton:"Admin_unlockButton__ke4Fn",buttonIcon:"Admin_buttonIcon___M4VS",loader:"Admin_loader__3WuLo",rotation:"Admin_rotation__lknWO",rotationBack:"Admin_rotationBack__qlWG_",root:"Admin_root__Q70by",title:"Admin_title__Xr7QQ",unauthorised:"Admin_unauthorised__6u5Bb"}},73301:function(e){e.exports={root:"ControlPanel_root__xgSoz",bodyContainer:"ControlPanel_bodyContainer__3gJmO",body:"ControlPanel_body__eJ4pu",details:"ControlPanel_details__FsHZf",columnP2P:"ControlPanel_columnP2P__E9d_w",columnHTTP:"ControlPanel_columnHTTP__H98wo",nodes:"ControlPanel_nodes__7wMOb",indexerQueueAlert:"ControlPanel_indexerQueueAlert__jqHbA",borderBottom:"ControlPanel_borderBottom__oU9PK",title29:"ControlPanel_title29__gz68F",title24:"ControlPanel_title24__7IKGZ",nodeAddress:"ControlPanel_nodeAddress__ZeK2z",node:"ControlPanel_node__zZlAF",indexer:"ControlPanel_indexer__TQbAJ",indexBlock:"ControlPanel_indexBlock__hRwv5",delayed:"ControlPanel_delayed__Y0IkO",provider:"ControlPanel_provider__AiLH1",providerRow:"ControlPanel_providerRow__iMvo9",providerTitle:"ControlPanel_providerTitle__aVYme",loaderContainer:"ControlPanel_loaderContainer__pvP_d",loader:"ControlPanel_loader__bbp5M",rotation:"ControlPanel_rotation__oC0WX"}},75368:function(e){e.exports={icon:"Copy_icon__BB7bs",feedback:"Copy_feedback__Wse_F",action:"Copy_action__IlKRq",button:"Copy_button__zsJoM"}},94428:function(e){e.exports={footerContainer:"style_footerContainer___mKsH",footerLinks:"style_footerLinks__1vBvO"}},30378:function(e){e.exports={navbarParent:"style_navbarParent__OgqE_",logoWrapper:"style_logoWrapper__ARfWA",connectButtonWrapper:"style_connectButtonWrapper__G4TF7"}},85108:function(e){e.exports={title24:"style_title24__8ssRQ",loaderContainer:"style_loaderContainer__dYPch",nodes:"style_nodes__ioZOx",nodeAddress:"style_nodeAddress__t2M8E"}},17044:function(e){e.exports={loader:"style_loader__s3fCW",rotation:"style_rotation__wALkg"}}},function(e){e.O(0,[5679,9774,2888,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);